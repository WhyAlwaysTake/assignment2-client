{"ast":null,"code":"var _jsxFileName = \"/Users/temirlannurmakhan/Desktop/DB-Assignment2/client/src/pages/AddEdit.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  name: \"\",\n  surname: \"\",\n  email: \"\",\n  salary: \"\",\n  phone: \"\",\n  cname: \"\"\n};\nconst AddEdit = () => {\n  _s();\n  const [state, setState] = useState(initialState);\n  const {\n    name,\n    surname,\n    email,\n    salary,\n    phone,\n    cname\n  } = state;\n  const history = useHistory();\n  useEffect(() => {\n    axios.get(`http://localhost:4000/api/get/${email}`).then(resp => setState({\n      ...resp.data[0]\n    }));\n  }, [email]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!name || !surname || !email || !salary || !phone || !cname) {\n      toast.error(\"Empty values!\");\n    } else {\n      axios.post(\"http://localhost:4000/api/post\", {\n        name,\n        surname,\n        email,\n        salary,\n        phone,\n        cname\n      }).then(() => {\n        setState({\n          name: \"\",\n          surname: \"\",\n          email: \"\",\n          salary: \"\",\n          phone: \"\",\n          cname: \"\"\n        });\n      }).catch(err => toast.error(err.response.data));\n      toast.success(\"Success\");\n      setTimeout(() => history.push(\"/\"), 500);\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setState({\n      ...state,\n      [name]: value\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"name\",\n        name: \"name\",\n        placeholder: \"Name\",\n        value: name || \"\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"surname\",\n        children: \"Surname\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"surname\",\n        name: \"surname\",\n        placeholder: \"Surname\",\n        value: surname || \"\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        id: \"email\",\n        name: \"email\",\n        placeholder: \"Email\",\n        value: email || \"\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"salary\",\n        children: \"Salary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        id: \"salary\",\n        name: \"salary\",\n        placeholder: \"Salary\",\n        value: salary || \"\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"phone\",\n        children: \"Phone\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        id: \"phone\",\n        name: \"phone\",\n        placeholder: \"Phone\",\n        value: phone || \"\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"cname\",\n        children: \"Country\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"cname\",\n        name: \"cname\",\n        placeholder: \"Country\",\n        value: cname || \"\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          value: \"Go Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n_s(AddEdit, \"Lqc9yJFno0UG5AEROwiLxOZPtfU=\", true);\n_c = AddEdit;\nexport default AddEdit;\nvar _c;\n$RefreshReg$(_c, \"AddEdit\");","map":{"version":3,"names":["React","useState","useEffect","axios","Link","toast","initialState","name","surname","email","salary","phone","cname","AddEdit","state","setState","history","useHistory","get","then","resp","data","handleSubmit","e","preventDefault","error","post","catch","err","response","success","setTimeout","push","handleInputChange","value","target"],"sources":["/Users/temirlannurmakhan/Desktop/DB-Assignment2/client/src/pages/AddEdit.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\n\nconst initialState = {\n    name: \"\",\n    surname: \"\",\n    email: \"\",\n    salary: \"\",\n    phone: \"\",\n    cname: \"\",\n}\nconst AddEdit = () =>  {\n        const [state, setState] = useState(initialState)\n        const {name, surname, email, salary, phone, cname} = state;\n        const history = useHistory();\n\n        useEffect(() => {\n            axios\n            .get(`http://localhost:4000/api/get/${email}`)\n            .then((resp) => setState({...resp.data[0] }));\n        }, [email]);\n\n        const handleSubmit = (e) => {\n            e.preventDefault();\n            if(!name || !surname || !email || !salary || !phone || !cname){\n                toast.error(\"Empty values!\");\n            }\n            else{\n                axios.post(\"http://localhost:4000/api/post\", {\n                    name, surname, email, salary, phone, cname\n                })\n                .then(()=> {\n                    setState({name: \"\", surname: \"\",email: \"\", salary: \"\", phone: \"\", cname: \"\"  })\n                })   \n                .catch((err) => toast.error(err.response.data));\n                toast.success(\"Success\");\n                setTimeout(() => history.push(\"/\"), 500);\n            }\n        };\n\n        const handleInputChange = (e) => {\n            const {name, value} = e.target;\n            setState({...state, [name]: value});\n        };\n    return (\n        <div>\n            <form onSubmit={handleSubmit}>\n                <label htmlFor='name'>Name</label>\n                <input type = \"text\" id=\"name\" name = \"name\" placeholder='Name' value = {name || \"\"} onChange={handleInputChange}/>\n                <label htmlFor='surname'>Surname</label>\n                <input type = \"text\" id=\"surname\" name = \"surname\" placeholder='Surname' value = {surname || \"\"} onChange={handleInputChange}/>   \n                <label htmlFor='email'>Email</label>\n                <input type = \"email\" id=\"email\" name = \"email\" placeholder='Email' value = {email || \"\"} onChange={handleInputChange}/>\n                <label htmlFor='salary'>Salary</label>\n                <input type = \"number\" id=\"salary\" name = \"salary\" placeholder='Salary' value = {salary || \"\"} onChange={handleInputChange}/>\n                <label htmlFor='phone'>Phone</label>\n                <input type = \"number\" id=\"phone\" name = \"phone\" placeholder='Phone' value = {phone || \"\"} onChange={handleInputChange}/>     \n                <label htmlFor='cname'>Country</label>\n                <input type = \"text\" id=\"cname\" name = \"cname\" placeholder='Country' value = {cname || \"\"} onChange={handleInputChange}/>      \n                <input type=\"submit\" value =\"Save\" />\n                <Link to = \"/\">\n                    <input type = \"button\" value=\"Go Back\" />\n                </Link> \n            </form>\n        </div>\n    )\n}\nexport default AddEdit"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}